{"version":3,"file":"item-dashboard.min.js","sources":["../../../apps/erpnext/erpnext/stock/dashboard/item_dashboard.js"],"sourcesContent":["frappe.provide('erpnext.stock');\n\nerpnext.stock.ItemDashboard = Class.extend({\n\tinit: function(opts) {\n\t\t$.extend(this, opts);\n\t\tthis.make();\n\t},\n\tmake: function() {\n\t\tvar me = this;\n\t\tthis.start = 0;\n\t\tif(!this.sort_by) {\n\t\t\tthis.sort_by = 'projected_qty';\n\t\t\tthis.sort_order = 'asc';\n\t\t}\n\n\t\tthis.content = $(frappe.render_template('item_dashboard')).appendTo(this.parent);\n\t\tthis.result = this.content.find('.result');\n\n\t\tthis.content.on('click', '.btn-move', function() {\n\t\t\thandle_move_add($(this), \"Move\")\n\t\t});\n\n\t\tthis.content.on('click', '.btn-add', function() {\n\t\t\thandle_move_add($(this), \"Add\")\n\t\t});\n\n\t\tfunction handle_move_add(element, action) {\n\t\t\tlet item = unescape(element.attr('data-item'));\n\t\t\tlet warehouse = unescape(element.attr('data-warehouse'));\n\t\t\tlet actual_qty = unescape(element.attr('data-actual_qty'));\n\t\t\tlet disable_quick_entry = Number(unescape(element.attr('data-disable_quick_entry')));\n\t\t\tlet entry_type = action === \"Move\" ? \"Material Transfer\": null;\n\n\t\t\tif (disable_quick_entry) {\n\t\t\t\topen_stock_entry(item, warehouse, entry_type);\n\t\t\t} else {\n\t\t\t\tif (action === \"Add\") {\n\t\t\t\t\tlet rate = unescape($(this).attr('data-rate'));\n\t\t\t\t\terpnext.stock.move_item(item, null, warehouse, actual_qty, rate, function() { me.refresh(); });\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\terpnext.stock.move_item(item, warehouse, null, actual_qty, null, function() { me.refresh(); });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction open_stock_entry(item, warehouse, entry_type) {\n\t\t\tfrappe.model.with_doctype('Stock Entry', function() {\n\t\t\t\tvar doc = frappe.model.get_new_doc('Stock Entry');\n\t\t\t\tif (entry_type) doc.stock_entry_type = entry_type;\n\n\t\t\t\tvar row = frappe.model.add_child(doc, 'items');\n\t\t\t\trow.item_code = item;\n\t\t\t\trow.s_warehouse = warehouse;\n\n\t\t\t\tfrappe.set_route('Form', doc.doctype, doc.name);\n\t\t\t})\n\t\t}\n\n\t\t// more\n\t\tthis.content.find('.btn-more').on('click', function() {\n\t\t\tme.start += 20;\n\t\t\tme.refresh();\n\t\t});\n\n\t},\n\trefresh: function() {\n\t\tif(this.before_refresh) {\n\t\t\tthis.before_refresh();\n\t\t}\n\n\t\tvar me = this;\n\t\tfrappe.call({\n\t\t\tmethod: 'erpnext.stock.dashboard.item_dashboard.get_data',\n\t\t\targs: {\n\t\t\t\titem_code: this.item_code,\n\t\t\t\twarehouse: this.warehouse,\n\t\t\t\titem_group: this.item_group,\n\t\t\t\tstart: this.start,\n\t\t\t\tsort_by: this.sort_by,\n\t\t\t\tsort_order: this.sort_order,\n\t\t\t},\n\t\t\tcallback: function(r) {\n\t\t\t\tme.render(r.message);\n\t\t\t}\n\t\t});\n\t},\n\trender: function(data) {\n\t\tif(this.start===0) {\n\t\t\tthis.max_count = 0;\n\t\t\tthis.result.empty();\n\t\t}\n\n\t\tvar context = this.get_item_dashboard_data(data, this.max_count, true);\n\t\tthis.max_count = this.max_count;\n\n\t\t// show more button\n\t\tif(data && data.length===21) {\n\t\t\tthis.content.find('.more').removeClass('hidden');\n\n\t\t\t// remove the last element\n\t\t\tdata.splice(-1);\n\t\t} else {\n\t\t\tthis.content.find('.more').addClass('hidden');\n\t\t}\n\n\t\t// If not any stock in any warehouses provide a message to end user\n\t\tif (context.data.length > 0) {\n\t\t\t$(frappe.render_template('item_dashboard_list', context)).appendTo(this.result);\n\t\t} else {\n\t\t\tvar message = __(\" Currently no stock available in any warehouse\")\n\t\t\t$(\"<span class='text-muted small'>\"+message+\"</span>\").appendTo(this.result);\n\t\t}\n\t},\n\tget_item_dashboard_data: function(data, max_count, show_item) {\n\t\tif(!max_count) max_count = 0;\n\t\tif(!data) data = [];\n\n\t\tdata.forEach(function(d) {\n\t\t\td.actual_or_pending = d.projected_qty + d.reserved_qty + d.reserved_qty_for_production + d.reserved_qty_for_sub_contract;\n\t\t\td.pending_qty = 0;\n\t\t\td.total_reserved = d.reserved_qty + d.reserved_qty_for_production + d.reserved_qty_for_sub_contract;\n\t\t\tif(d.actual_or_pending > d.actual_qty) {\n\t\t\t\td.pending_qty = d.actual_or_pending - d.actual_qty;\n\t\t\t}\n\n\t\t\tmax_count = Math.max(d.actual_or_pending, d.actual_qty,\n\t\t\t\td.total_reserved, max_count);\n\t\t});\n\n\t\tvar can_write = 0;\n\t\tif(frappe.boot.user.can_write.indexOf(\"Stock Entry\")>=0){\n\t\t\tcan_write = 1;\n\t\t}\n\n\t\treturn {\n\t\t\tdata: data,\n\t\t\tmax_count: max_count,\n\t\t\tcan_write:can_write,\n\t\t\tshow_item: show_item || false\n\t\t}\n\t}\n})\n\nerpnext.stock.move_item = function(item, source, target, actual_qty, rate, callback) {\n\tvar dialog = new frappe.ui.Dialog({\n\t\ttitle: target ? __('Add Item') : __('Move Item'),\n\t\tfields: [\n\t\t\t{fieldname: 'item_code', label: __('Item'),\n\t\t\t\tfieldtype: 'Link', options: 'Item', read_only: 1},\n\t\t\t{fieldname: 'source', label: __('Source Warehouse'),\n\t\t\t\tfieldtype: 'Link', options: 'Warehouse', read_only: 1},\n\t\t\t{fieldname: 'target', label: __('Target Warehouse'),\n\t\t\t\tfieldtype: 'Link', options: 'Warehouse', reqd: 1},\n\t\t\t{fieldname: 'qty', label: __('Quantity'), reqd: 1,\n\t\t\t\tfieldtype: 'Float', description: __('Available {0}', [actual_qty]) },\n\t\t\t{fieldname: 'rate', label: __('Rate'), fieldtype: 'Currency', hidden: 1 },\n\t\t],\n\t})\n\tdialog.show();\n\tdialog.get_field('item_code').set_input(item);\n\n\tif(source) {\n\t\tdialog.get_field('source').set_input(source);\n\t} else {\n\t\tdialog.get_field('source').df.hidden = 1;\n\t\tdialog.get_field('source').refresh();\n\t}\n\n\tif(rate) {\n\t\tdialog.get_field('rate').set_value(rate);\n\t\tdialog.get_field('rate').df.hidden = 0;\n\t\tdialog.get_field('rate').refresh();\n\t}\n\n\tif(target) {\n\t\tdialog.get_field('target').df.read_only = 1;\n\t\tdialog.get_field('target').value = target;\n\t\tdialog.get_field('target').refresh();\n\t}\n\n\tdialog.set_primary_action(__('Submit'), function() {\n\t\tvar values = dialog.get_values();\n\t\tif(!values) {\n\t\t\treturn;\n\t\t}\n\t\tif(source && values.qty > actual_qty) {\n\t\t\tfrappe.msgprint(__('Quantity must be less than or equal to {0}', [actual_qty]));\n\t\t\treturn;\n\t\t}\n\t\tif(values.source === values.target) {\n\t\t\tfrappe.msgprint(__('Source and target warehouse must be different'));\n\t\t}\n\n\t\tfrappe.call({\n\t\t\tmethod: 'erpnext.stock.doctype.stock_entry.stock_entry_utils.make_stock_entry',\n\t\t\targs: values,\n\t\t\tfreeze: true,\n\t\t\tcallback: function(r) {\n\t\t\t\tfrappe.show_alert(__('Stock Entry {0} created',\n\t\t\t\t\t['<a href=\"#Form/Stock Entry/'+r.message.name+'\">' + r.message.name+ '</a>']));\n\t\t\t\tdialog.hide();\n\t\t\t\tcallback(r);\n\t\t\t},\n\t\t});\n\t});\n\n\t$('<p style=\"margin-left: 10px;\"><a class=\"link-open text-muted small\">'\n\t\t+ __(\"Add more items or open full form\") + '</a></p>')\n\t\t.appendTo(dialog.body)\n\t\t.find('.link-open')\n\t\t.on('click', function() {\n\t\t\tfrappe.model.with_doctype('Stock Entry', function() {\n\t\t\t\tvar doc = frappe.model.get_new_doc('Stock Entry');\n\t\t\t\tdoc.from_warehouse = dialog.get_value('source');\n\t\t\t\tdoc.to_warehouse = dialog.get_value('target');\n\t\t\t\tvar row = frappe.model.add_child(doc, 'items');\n\t\t\t\trow.item_code = dialog.get_value('item_code');\n\t\t\t\trow.f_warehouse = dialog.get_value('target');\n\t\t\t\trow.t_warehouse = dialog.get_value('target');\n\t\t\t\trow.qty = dialog.get_value('qty');\n\t\t\t\trow.conversion_factor = 1;\n\t\t\t\trow.transfer_qty = dialog.get_value('qty');\n\t\t\t\trow.basic_rate = dialog.get_value('rate');\n\t\t\t\tfrappe.set_route('Form', doc.doctype, doc.name);\n\t\t\t})\n\t\t});\n}\n"],"names":["let"],"mappings":";;;;;;;CAAA,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;;CAEhC,OAAO,CAAC,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC,MAAM,CAAC;EAC1C,IAAI,EAAE,SAAS,IAAI,EAAE;GACpB,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;GACrB,IAAI,CAAC,IAAI,EAAE,CAAC;GACZ;EACD,IAAI,EAAE,WAAW;GAChB,IAAI,EAAE,GAAG,IAAI,CAAC;GACd,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;GACf,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE;IACjB,IAAI,CAAC,OAAO,GAAG,eAAe,CAAC;IAC/B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IACxB;;GAED,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;GACjF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;GAE3C,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,EAAE,WAAW,EAAE,WAAW;IAChD,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,MAAM,EAAC;IAChC,CAAC,CAAC;;GAEH,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,EAAE,UAAU,EAAE,WAAW;IAC/C,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAC;IAC/B,CAAC,CAAC;;GAEH,SAAS,eAAe,CAAC,OAAO,EAAE,MAAM,EAAE;IACzCA,IAAI,IAAI,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;IAC/CA,IAAI,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;IACzDA,IAAI,UAAU,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;IAC3DA,IAAI,mBAAmB,GAAG,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC;IACrFA,IAAI,UAAU,GAAG,MAAM,KAAK,MAAM,GAAG,mBAAmB,EAAE,IAAI,CAAC;;IAE/D,IAAI,mBAAmB,EAAE;KACxB,gBAAgB,CAAC,IAAI,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC;KAC9C,MAAM;KACN,IAAI,MAAM,KAAK,KAAK,EAAE;MACrBA,IAAI,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;MAC/C,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,UAAU,EAAE,IAAI,EAAE,WAAW,EAAE,EAAE,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;MAC/F;UACI;MACJ,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,WAAW,EAAE,EAAE,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;MAC/F;KACD;IACD;;GAED,SAAS,gBAAgB,CAAC,IAAI,EAAE,SAAS,EAAE,UAAU,EAAE;IACtD,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,aAAa,EAAE,WAAW;KACnD,IAAI,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;KAClD,IAAI,UAAU,IAAE,GAAG,CAAC,gBAAgB,GAAG,UAAU,GAAC;;KAElD,IAAI,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;KAC/C,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC;KACrB,GAAG,CAAC,WAAW,GAAG,SAAS,CAAC;;KAE5B,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,GAAG,CAAC,OAAO,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;KAChD,EAAC;IACF;;;GAGD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,WAAW;IACrD,EAAE,CAAC,KAAK,IAAI,EAAE,CAAC;IACf,EAAE,CAAC,OAAO,EAAE,CAAC;IACb,CAAC,CAAC;;GAEH;EACD,OAAO,EAAE,WAAW;GACnB,GAAG,IAAI,CAAC,cAAc,EAAE;IACvB,IAAI,CAAC,cAAc,EAAE,CAAC;IACtB;;GAED,IAAI,EAAE,GAAG,IAAI,CAAC;GACd,MAAM,CAAC,IAAI,CAAC;IACX,MAAM,EAAE,iDAAiD;IACzD,IAAI,EAAE;KACL,SAAS,EAAE,IAAI,CAAC,SAAS;KACzB,SAAS,EAAE,IAAI,CAAC,SAAS;KACzB,UAAU,EAAE,IAAI,CAAC,UAAU;KAC3B,KAAK,EAAE,IAAI,CAAC,KAAK;KACjB,OAAO,EAAE,IAAI,CAAC,OAAO;KACrB,UAAU,EAAE,IAAI,CAAC,UAAU;KAC3B;IACD,QAAQ,EAAE,SAAS,CAAC,EAAE;KACrB,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;KACrB;IACD,CAAC,CAAC;GACH;EACD,MAAM,EAAE,SAAS,IAAI,EAAE;GACtB,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE;IAClB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;IACnB,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;IACpB;;GAED,IAAI,OAAO,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;GACvE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;;;GAGhC,GAAG,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,EAAE,EAAE;IAC5B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;;;IAGjD,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IAChB,MAAM;IACN,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAC9C;;;GAGD,IAAI,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;IAC5B,CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,qBAAqB,EAAE,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAChF,MAAM;IACN,IAAI,OAAO,GAAG,EAAE,CAAC,gDAAgD,EAAC;IAClE,CAAC,CAAC,iCAAiC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC7E;GACD;EACD,uBAAuB,EAAE,SAAS,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE;GAC7D,GAAG,CAAC,SAAS,IAAE,SAAS,GAAG,CAAC,GAAC;GAC7B,GAAG,CAAC,IAAI,IAAE,IAAI,GAAG,EAAE,GAAC;;GAEpB,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;IACxB,CAAC,CAAC,iBAAiB,GAAG,CAAC,CAAC,aAAa,GAAG,CAAC,CAAC,YAAY,GAAG,CAAC,CAAC,2BAA2B,GAAG,CAAC,CAAC,6BAA6B,CAAC;IACzH,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC;IAClB,CAAC,CAAC,cAAc,GAAG,CAAC,CAAC,YAAY,GAAG,CAAC,CAAC,2BAA2B,GAAG,CAAC,CAAC,6BAA6B,CAAC;IACpG,GAAG,CAAC,CAAC,iBAAiB,GAAG,CAAC,CAAC,UAAU,EAAE;KACtC,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC,iBAAiB,GAAG,CAAC,CAAC,UAAU,CAAC;KACnD;;IAED,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC,CAAC,UAAU;KACrD,CAAC,CAAC,cAAc,EAAE,SAAS,CAAC,CAAC;IAC9B,CAAC,CAAC;;GAEH,IAAI,SAAS,GAAG,CAAC,CAAC;GAClB,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;IACvD,SAAS,GAAG,CAAC,CAAC;IACd;;GAED,OAAO;IACN,IAAI,EAAE,IAAI;IACV,SAAS,EAAE,SAAS;IACpB,SAAS,CAAC,SAAS;IACnB,SAAS,EAAE,SAAS,IAAI,KAAK;IAC7B;GACD;EACD,EAAC;;CAEF,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,SAAS,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,IAAI,EAAE,QAAQ,EAAE;EACpF,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC;GACjC,KAAK,EAAE,MAAM,GAAG,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC,WAAW,CAAC;GAChD,MAAM,EAAE;IACP,CAAC,SAAS,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,CAAC,MAAM,CAAC;KACzC,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC,CAAC;IAClD,CAAC,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE,CAAC,kBAAkB,CAAC;KAClD,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,SAAS,EAAE,CAAC,CAAC;IACvD,CAAC,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE,CAAC,kBAAkB,CAAC;KAClD,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;IAClD,CAAC,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,CAAC;KAChD,SAAS,EAAE,OAAO,EAAE,WAAW,EAAE,EAAE,CAAC,eAAe,EAAE,CAAC,UAAU,CAAC,CAAC,EAAE;IACrE,CAAC,SAAS,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,CAAC,MAAM,CAAC,EAAE,SAAS,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC,EAAE,EACzE;GACD,EAAC;EACF,MAAM,CAAC,IAAI,EAAE,CAAC;EACd,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;;EAE9C,GAAG,MAAM,EAAE;GACV,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;GAC7C,MAAM;GACN,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC;GACzC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,CAAC;GACrC;;EAED,GAAG,IAAI,EAAE;GACR,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;GACzC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC;GACvC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,CAAC;GACnC;;EAED,GAAG,MAAM,EAAE;GACV,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC;GAC5C,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,KAAK,GAAG,MAAM,CAAC;GAC1C,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,CAAC;GACrC;;EAED,MAAM,CAAC,kBAAkB,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,WAAW;GAClD,IAAI,MAAM,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC;GACjC,GAAG,CAAC,MAAM,EAAE;IACX,OAAO;IACP;GACD,GAAG,MAAM,IAAI,MAAM,CAAC,GAAG,GAAG,UAAU,EAAE;IACrC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,4CAA4C,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAChF,OAAO;IACP;GACD,GAAG,MAAM,CAAC,MAAM,KAAK,MAAM,CAAC,MAAM,EAAE;IACnC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,+CAA+C,CAAC,CAAC,CAAC;IACrE;;GAED,MAAM,CAAC,IAAI,CAAC;IACX,MAAM,EAAE,sEAAsE;IAC9E,IAAI,EAAE,MAAM;IACZ,MAAM,EAAE,IAAI;IACZ,QAAQ,EAAE,SAAS,CAAC,EAAE;KACrB,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,yBAAyB;MAC7C,CAAC,6BAA6B,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;KAChF,MAAM,CAAC,IAAI,EAAE,CAAC;KACd,QAAQ,CAAC,CAAC,CAAC,CAAC;KACZ;IACD,CAAC,CAAC;GACH,CAAC,CAAC;;EAEH,CAAC,CAAC,sEAAsE;KACrE,EAAE,CAAC,kCAAkC,CAAC,GAAG,UAAU,CAAC;IACrD,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC;IACrB,IAAI,CAAC,YAAY,CAAC;IAClB,EAAE,CAAC,OAAO,EAAE,WAAW;IACvB,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,aAAa,EAAE,WAAW;KACnD,IAAI,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;KAClD,GAAG,CAAC,cAAc,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;KAChD,GAAG,CAAC,YAAY,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;KAC9C,IAAI,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;KAC/C,GAAG,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;KAC9C,GAAG,CAAC,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;KAC7C,GAAG,CAAC,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;KAC7C,GAAG,CAAC,GAAG,GAAG,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;KAClC,GAAG,CAAC,iBAAiB,GAAG,CAAC,CAAC;KAC1B,GAAG,CAAC,YAAY,GAAG,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;KAC3C,GAAG,CAAC,UAAU,GAAG,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;KAC1C,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,GAAG,CAAC,OAAO,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;KAChD,EAAC;IACF,CAAC,CAAC;EACJ;;;;"}